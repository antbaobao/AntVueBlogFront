webpackJsonp([12],{Jil1:function(e,r){},kiVn:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t("Xxa5"),s=t.n(a),o=t("exGp"),n=t.n(o),l=t("Dd8w"),i=t.n(l),u=t("NYxO"),m=t("vLgD");var d={data:function(){return{ruleForm:{name:"",gender:"",email:"",password:"",confirmPassword:"",authCode:""},rules:{name:[{required:!0,message:"请输入用户名或者邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},signupLoading:!1,authCodeImg:""}},methods:i()({},Object(u.b)(["GENERATE_AUTH_CODE"]),{submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;r.signup()})},generateAuthCode:function(){var e=this;return n()(s.a.mark(function r(){var t;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,m.a.get("/authcode");case 3:0===(t=r.sent).data.code&&(e.authCodeImg=t.data.data.authCode),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),e.$message.error("请求出错了");case 10:case"end":return r.stop()}},r,e,[[0,7]])}))()},signup:function(){var e=this;return n()(s.a.mark(function r(){var t,a,o,n,l,i;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:e.signupLoading=!0,t=e.ruleForm,a=t.name,o=t.gender,n=t.email,l=t.password,i=t.authCode;try{s={name:a,gender:o,email:n,password:l,authCode:i},m.a.post("/signup",s),e.signupLoading=!1}catch(r){e.$message.error("请求出错"),e.signupLoading=!1}case 3:case"end":return r.stop()}var s},r,e)}))()}}),mounted:function(){this.generateAuthCode()}},c={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"signup"},[t("div",{staticClass:"signup__bg"}),e._v(" "),t("div",{staticClass:"signup__form-cn"},[t("div",{staticClass:"signup__form"},[t("div",{staticClass:"signup__title"},[e._v("欢迎注册汪乐的个人网站")]),e._v(" "),t("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"用户名",prop:"name"}},[t("el-input",{attrs:{placeholder:"请输入用户名或者邮箱"},model:{value:e.ruleForm.name,callback:function(r){e.$set(e.ruleForm,"name",r)},expression:"ruleForm.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"是男是女",prop:"gender"}},[t("el-radio-group",{model:{value:e.ruleForm.gender,callback:function(r){e.$set(e.ruleForm,"gender",r)},expression:"ruleForm.gender"}},[t("el-radio",{attrs:{label:"male"}},[e._v("男")]),e._v(" "),t("el-radio",{attrs:{label:"female"}},[e._v("女")])],1),e._v(" "),t("span",{staticClass:"signup__gender-note"},[e._v("选择后无法修改")])],1),e._v(" "),t("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[t("el-input",{attrs:{placeholder:"请输入用户名或者邮箱"},model:{value:e.ruleForm.email,callback:function(r){e.$set(e.ruleForm,"email",r)},expression:"ruleForm.email"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"确认密码",prop:"confirmPassword"}},[t("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.ruleForm.confirmPassword,callback:function(r){e.$set(e.ruleForm,"confirmPassword",r)},expression:"ruleForm.confirmPassword"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"验证码",prop:"authCode"}},[t("div",{staticClass:"signup__auth-code"},[t("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"验证码"},model:{value:e.ruleForm.authCode,callback:function(r){e.$set(e.ruleForm,"authCode",r)},expression:"ruleForm.authCode"}}),e._v(" "),t("div",{staticClass:"signup__auth-code-img",domProps:{innerHTML:e._s(e.authCodeImg)}}),e._v(" "),t("a",{on:{click:e.generateAuthCode}},[e._v("换一张")])],1)]),e._v(" "),t("el-form-item",[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.signupLoading},on:{click:function(r){e.submitForm("ruleForm")}}},[e._v("注册\n          ")])],1),e._v(" "),t("el-form-item",{staticClass:"signup__btn"},[t("div",{staticClass:"signup__other-info"},[t("span",[e._v("有账号？ "),t("a",{staticClass:"signup__other-info-item",on:{click:function(r){e.$router.push("/login")}}},[e._v("直接登录")])])])])],1)],1)])])},staticRenderFns:[]};var p=t("VU/8")(d,c,!1,function(e){t("Jil1")},null,null);r.default=p.exports}});
//# sourceMappingURL=12.a64d272bb02ab0aaa375.js.map